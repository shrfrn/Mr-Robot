(this["webpackJsonpmister-bitcoin"]=this["webpackJsonpmister-bitcoin"]||[]).push([[0],{33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(21),r=n.n(o),i=(n(33),n(34),n(17)),s=n(4),l=(n(35),n(3)),u=n.n(l),h=n(7),d=n(12),p=n(13),m=n(15),f=n(14),b=n(11),j=n(1);function O(t){var e=t.contact;t.onSelectContact;return Object(j.jsx)("article",{className:"contact-preview",children:Object(j.jsxs)(i.b,{to:"/contact/"+e._id,children:[Object(j.jsx)("img",{src:"http://robohash.org/"+e._id,alt:""}),Object(j.jsx)("p",{children:e.name})]})})}function v(t){var e=t.contacts,n=t.onSelectContact;return e.map((function(t){return Object(j.jsx)(O,{contact:t,onClick:function(){return n(t)}},t._id)}))}var C=n(18),x=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",email:"",phone:""},t.handleChange=function(e){var n=e.target,a=n.id,c="number"===n.type?+n.value:n.value;t.setState(Object(C.a)({},a,c),(function(){t.props.onChangeFilter(t.state)}))},t}return Object(p.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("section",{className:"filter-section",children:[Object(j.jsx)("p",{children:"Filter"}),Object(j.jsxs)("form",{className:"contact-filter",children:[Object(j.jsx)("label",{htmlFor:"name",children:"name"}),Object(j.jsx)("input",{type:"text",id:"name",onChange:this.handleChange}),Object(j.jsx)("label",{htmlFor:"email",children:"email"}),Object(j.jsx)("input",{type:"text",id:"email",onChange:this.handleChange}),Object(j.jsx)("label",{htmlFor:"phone",children:"phone"}),Object(j.jsx)("input",{type:"text",id:"phone",onChange:this.handleChange})]})]})}}]),n}(a.Component);var g=Object(b.b)((function(t){return{filterBy:t.contactModule.filterBy}}))((function(t){var e=t.loadContacts,n=t.setFilterBy;return Object(j.jsxs)("nav",{className:"header",children:[Object(j.jsx)("h1",{children:"Mr. Robot"}),Object(j.jsx)(x,{onChangeFilter:function(t){n(t),e(t)}}),Object(j.jsx)(i.b,{to:"/edit/",children:Object(j.jsx)("button",{children:"+"})})]})})),y={getContacts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={name:(null===t||void 0===t?void 0:t.name)?new RegExp(t.name,"i"):null,email:(null===t||void 0===t?void 0:t.email)?new RegExp(t.email,"i"):null,phone:(null===t||void 0===t?void 0:t.phone)?new RegExp(t.phone,"i"):null};return new Promise((function(t,n){var a=_;(e.name||e.email||e.phone)&&(a=k(e)),t(w(a))}))},getContactById:function(t){return new Promise((function(e,n){var a=_.find((function(e){return e._id===t}));a?e(a):n("Contact id ".concat(t," not found!"))}))},deleteContact:function(t){return new Promise((function(e,n){var a=_.findIndex((function(e){return e._id===t}));-1!==a&&_.splice(a,1),e(_)}))},saveContact:function(t){return t._id?function(t){return new Promise((function(e,n){var a=_.findIndex((function(e){return t._id===e._id}));-1!==a&&(_[a]=t),e(t)}))}(t):function(t){return new Promise((function(e,n){t._id=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<t;a++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}(),_.push(t),e(t)}))}(t)},getEmptyContact:function(){return{name:"",email:"",phone:""}}},_=[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824"},{_id:"5a5664025f6ae9aa24a99fde",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888"},{_id:"5a56640252d6acddd183d319",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495"},{_id:"5a566402ed1cf349f0b47b4d",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312"},{_id:"5a566402abce24c6bfe4699d",name:"Dominique Soto",email:"dominiquesoto@renovize.com",phone:"+1 (807) 551-3258"},{_id:"5a566402a6499c1d4da9220a",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082"},{_id:"5a566402f90ae30e97f990db",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678"},{_id:"5a5664027bae84ef280ffbdf",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663"},{_id:"5a566402e3b846c5f6aec652",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851"},{_id:"5a56640272c7dcdf59c3d411",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166"},{_id:"5a5664029a8dd82a6178b15f",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295"},{_id:"5a5664028c096d08eeb13a8a",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550"},{_id:"5a5664026c53582bb9ebe9d1",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181"},{_id:"5a56640298ab77236845b82b",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376"},{_id:"5a56640208fba3e8ecb97305",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557"},{_id:"5a566402abb3146207bc4ec5",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629"},{_id:"5a56640298500fead8cb1ee5",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529"},{_id:"5a56640243427b8f8445231e",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291"},{_id:"5a5664025c3abdad6f5e098c",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812"}];function w(t){return t.sort((function(t,e){return t.name.toLocaleLowerCase()<e.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>e.name.toLocaleLowerCase()?1:0}))}function k(t){var e=_;return t.name&&(e=e.filter((function(e){return t.name.test(e.name)}))),t.email&&(e=e.filter((function(e){return t.email.test(e.email)}))),t.phone&&(e=e.filter((function(e){return t.phone.test(e.phone)}))),e}function T(t){return function(){var e=Object(h.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getContactById(t);case 2:a=e.sent,n({type:"SET_CONTACT",contact:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var B=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.loadContacts();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"onSelectContact",value:function(t){console.log(t)}},{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g,{loadContacts:this.props.loadContacts,setFilterBy:this.props.setFilterBy}),Object(j.jsx)("div",{className:"contact-list",children:this.props.contacts&&Object(j.jsx)(v,{contacts:this.props.contacts})})]})}}]),n}(c.a.Component),E={loadContacts:function(){return function(){var t=Object(h.a)(u.a.mark((function t(e,n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n().contactModule.filterBy,t.prev=1,t.next=4,y.getContacts(a);case 4:c=t.sent,e({type:"SET_CONTACTS",contacts:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()},setFilterBy:function(t){return function(e){e({type:"SET_FILTER_BY",filterBy:t})}}},S=Object(b.b)((function(t){return{contacts:t.contactModule.contacts}}),E)(B),N=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).goBack=function(){t.props.history.push("/")},t.editContact=function(){t.props.history.push("/edit/"+t.props.match.params.id)},t.deleteContact=Object(h.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.props.match.params.id,t.props.removeContact(n),t.goBack();case 3:case"end":return e.stop()}}),e)}))),t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(h.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props.match.params.id,this.props.getContactById(e);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props.contact;if(!t)return Object(j.jsx)("p",{children:"Loading..."});var e=t.name,n=t.email,a=t.phone;return Object(j.jsxs)("section",{className:"contact-details",children:[Object(j.jsx)("img",{src:"http://robohash.org/"+t._id,alt:""}),Object(j.jsx)("h1",{children:e}),Object(j.jsx)("p",{children:n}),Object(j.jsx)("p",{children:a}),Object(j.jsxs)("section",{className:"action-btns",children:[Object(j.jsx)("button",{onClick:this.goBack,children:"Back"}),Object(j.jsx)("button",{onClick:this.editContact,children:"Edit"}),Object(j.jsx)("button",{onClick:this.deleteContact,children:"x"})]})]})}}]),n}(a.Component),F={getContactById:T,removeContact:function(t){return function(){var e=Object(h.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.deleteContact(t);case 2:n({type:"REMOVE_CONTACT",contactId:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},z=Object(b.b)((function(t){return{contact:t.contactModule.currContact}}),F)(N),A=n(5),M=function(t){Object(m.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={contact:null},t.handleChange=function(e){var n=e.target,a=n.id,c=n.value;t.setState((function(t){return{contact:Object(A.a)(Object(A.a)({},t.contact),{},Object(C.a)({},a,c))}}))},t.saveContact=function(){var e=Object(h.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t.state.contact._id?(console.log("updating"),t.props.updateContact(t.state.contact)):(console.log("adding"),t.props.addContact(t.state.contact)),t.props.history.push("/");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.goBack=function(){t.props.history.push("/")},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var t=Object(h.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=this.props.match.params.id)?(this.props.getContactById(e),this.setState({contact:this.props.contact})):(n=y.getEmptyContact(),this.setState({contact:n}),console.log(n)),console.log(this.props);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.contact;if(!t)return Object(j.jsx)("p",{children:"Loading..."});var e=t._id,n=t.name,a=t.email,c=t.phone,o=e||"placeholder";return Object(j.jsxs)("form",{className:"edit-contact",children:[Object(j.jsx)("img",{src:"http://robohash.org/placeholder/"+o,alt:""}),Object(j.jsxs)("label",{htmlFor:n,children:["name:",Object(j.jsx)("input",{value:n,onChange:this.handleChange,id:"name",type:"text"})]}),Object(j.jsxs)("label",{htmlFor:a,children:["email:",Object(j.jsx)("input",{value:a,onChange:this.handleChange,id:"email",type:"email"})]}),Object(j.jsxs)("label",{htmlFor:c,children:["phone:",Object(j.jsx)("input",{value:c,onChange:this.handleChange,id:"phone",type:"text"})]}),Object(j.jsxs)("section",{className:"action-btns",children:[Object(j.jsx)("button",{onClick:this.goBack,children:"Back"}),Object(j.jsx)("button",{onClick:this.saveContact,children:"Save"})]})]})}}]),n}(a.Component),L={getContactById:T,addContact:function(t){return function(){var e=Object(h.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.saveContact(t);case 2:a=e.sent,n({type:"ADD_CONTACT",contact:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateContact:function(t){return function(){var e=Object(h.a)(u.a.mark((function e(n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.saveContact(t);case 2:a=e.sent,n({type:"UPDATE_CONTACT",contact:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},I=Object(b.b)((function(t){return{contact:t.contactModule.currContact}}),L)(M);var D=function(){return Object(j.jsx)(i.a,{children:Object(j.jsx)("main",{children:Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:"/contact/:id",component:z}),Object(j.jsx)(s.a,{path:"/edit/:id?",component:I}),Object(j.jsx)(s.a,{path:"/",component:S})]})})})},P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),o(t),r(t)}))},R=n(20),G=n(27),H=n(28),J={contacts:[],currContact:null,filterBy:null};var U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.c,V=Object(R.b)({contactModule:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CONTACTS":return Object(A.a)(Object(A.a)({},t),{},{contacts:e.contacts});case"SET_CONTACT":return Object(A.a)(Object(A.a)({},t),{},{currContact:e.contact});case"SET_FILTER_BY":return Object(A.a)(Object(A.a)({},t),{},{filterBy:e.filterBy});case"ADD_CONTACT":return Object(A.a)(Object(A.a)({},t),{},{contacts:Object(H.a)(t.contacts)});case"REMOVE_CONTACT":return Object(A.a)(Object(A.a)({},t),{},{contacts:t.contacts.filter((function(t){return t._id!==e.contactId}))});case"UPDATE_CONTACT":var n=t.currContact._id===e.contact._id?e.contact:t.currContact;return Object(A.a)(Object(A.a)({},t),{},{contacts:t.contacts&&t.contacts.map((function(t){return t._id===e.contact._id?e.contact:t})),currContact:n});default:return t}}}),q=Object(R.d)(V,U(Object(R.a)(G.a)));r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b.a,{store:q,children:Object(j.jsx)(D,{})})}),document.getElementById("root")),P()}},[[47,1,2]]]);
//# sourceMappingURL=main.c4833aa0.chunk.js.map